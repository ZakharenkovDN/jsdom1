<!DOCTYPE html>
    <html lang="en">
    <head> 
        <meta charset="UTF-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <title>КТ 2 Захаренков Д.Н.</title>
        <style> 
        .slider {
            width: 300px;
            height: 10px;
            border: 1px solid black;
            position: relative}
        .slider-bar {
            height: 100%;
            background-color: blue}
        .slider-handle {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: red;
            position: absolute;
            top: -5px}
        </style>
    </head>
        <body>
            <div class="slider">
                <div class="slider-bar"></div>
                <div class="slider-handle"></div>
            </div>
        <script>
let slider = document.querySelector('.slider')
let bar = slider.querySelector('.slider-bar')
let handle = slider.querySelector('.slider-handle')
let start = 0;
let first_handle = 0;
let draw = false;
function handleMouseDown(event) {
  start = event.clientX
  first_handle = handle.offsetLeft
  draw = true
}
function handleMouseMove(event) {
  if (draw) {
    const move = event.clientX - start
    const new_handle = first_handle + move
    const barWidth = bar.offsetWidth
    const handleWidth = handle.offsetWidth
    
    if (new_handle < 0) {
      handle.style.left = '0'
    } else if (new_handle > (barWidth - handleWidth)) {
      handle.style.left = `${barWidth - handleWidth}px`
    } else {
      handle.style.left = `${new_handle}px`
      const percentValue = (new_handle / (barWidth - handleWidth)) * 100
    }
  }
}
function handleMouseUp() {
  draw = false;
}
        handle.addEventListener('mousedown', handleMouseDown);
        document.addEventListener('mousemove', handleMouseMove);
        document.addEventListener('mouseup', handleMouseUp);
        </script>
        </body>
        </html>